<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø­Ø±ÙˆÙ Ù…Ø¹ Ø£Ø­Ù…Ø¯ - Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„ÙØ®Ù…Ø©</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-purple: #6a349c;
            --accent-yellow: #ffcc00;
            --accent-red: #ff4d4d;
            --accent-cyan: #00d2ff;
            --white: #ffffff;
            --soft-purple: #8b5cf6;
        }

        body {
            font-family: 'Cairo', sans-serif;
            background-color: var(--primary-purple);
            background-image: radial-gradient(circle, #7c3aed 10%, transparent 10%), radial-gradient(circle, #7c3aed 10%, transparent 10%);
            background-size: 50px 50px;
            background-position: 0 0, 25px 25px;
            color: white; margin: 0; overflow: hidden; height: 100vh;
        }

        /* --- Ø´Ø§Ø´Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„ÙØ®Ù…Ø© --- */
        #intro-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: var(--primary-purple); display: flex; flex-direction: column;
            align-items: center; justify-content: center; z-index: 5000;
        }

        .animated-logo {
            font-size: 6rem; font-weight: 900; display: flex; gap: 15px;
        }

        .animated-logo span {
            display: inline-block; animation: bounce 1.5s infinite ease-in-out;
            text-shadow: 0 0 20px rgba(255, 204, 0, 0.6);
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0) rotate(0); }
            50% { transform: translateY(-30px) rotate(10deg); color: var(--accent-yellow); }
        }

        .animated-logo span:nth-child(2) { animation-delay: 0.1s; }
        .animated-logo span:nth-child(3) { animation-delay: 0.2s; }
        .animated-logo span:nth-child(4) { animation-delay: 0.3s; }
        .animated-logo span:nth-child(5) { animation-delay: 0.4s; }

        /* --- Ø´Ø§Ø´Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù… --- */
        .screen { display: none; flex-direction: column; align-items: center; width: 100%; height: 100vh; text-align: center; padding-top: 50px; }
        .active { display: flex; }

        .btn-main {
            background: var(--white); color: var(--primary-purple); border: none; padding: 12px 60px;
            margin: 8px; border-radius: 30px; font-size: 1.5rem; font-weight: bold; cursor: pointer; 
            width: 320px; transition: 0.3s; box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        .btn-main:hover { transform: scale(1.1); background: var(--accent-yellow); }

        /* --- Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ÙØ±Ù‚ --- */
        .team-inputs { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; width: 80%; max-width: 800px; margin-top: 20px; }
        .team-box { background: rgba(255,255,255,0.1); padding: 20px; border-radius: 15px; border: 2px solid white; }
        .team-box input { width: 90%; padding: 8px; margin: 5px 0; border-radius: 5px; border: none; text-align: center; }

        /* --- Ø´Ø¨ÙƒØ© Ø§Ù„Ø­Ø±ÙˆÙ ÙˆØ§Ù„Ø£Ø¬Ø±Ø§Ø³ --- */
        .game-layout { display: flex; width: 95%; justify-content: space-around; align-items: flex-start; margin-top: 20px; }
        .buzzer-area { width: 200px; display: flex; flex-direction: column; gap: 15px; }
        .buzzer { 
            width: 120px; height: 120px; background: red; border-radius: 50%; border: 8px solid #800;
            box-shadow: 0 10px 0 #500; cursor: pointer; display: flex; align-items: center; 
            justify-content: center; font-weight: bold; font-size: 1.2rem; transition: 0.1s;
        }
        .buzzer:active { transform: translateY(10px); box-shadow: 0 0 0 #500; }
        .buzzer.green { background: #22c55e; border-color: #166534; box-shadow: 0 10px 0 #052e16; }

        .grid-container { display: grid; grid-template-columns: repeat(7, 75px); gap: 10px; }
        .hexagon {
            width: 75px; height: 85px; background: white; color: var(--primary-purple);
            clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);
            display: flex; align-items: center; justify-content: center; font-size: 1.6rem; font-weight: bold; cursor: pointer;
        }
        .hex-green { background: #4ade80 !important; color: white; }
        .hex-purple { background: #a855f7 !important; color: white; }

        /* --- Ø§Ù„ÙˆØ±Ù‚Ø© Ø§Ù„Ø¨Ù†ÙØ³Ø¬ÙŠØ© --- */
        #envelope-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9);
            display: none; justify-content: center; align-items: center; z-index: 1000;
        }
        .paper {
            width: 500px; height: 350px; background: var(--soft-purple); border: 5px solid white;
            border-radius: 20px; display: flex; flex-direction: column; align-items: center;
            justify-content: center; padding: 40px; transform: scale(0); transition: 0.5s;
        }
        .paper.open { transform: scale(1); }
        .paper h2 { color: var(--accent-yellow); font-size: 2.5rem; margin-bottom: 20px; }
        .paper p { font-size: 1.8rem; text-align: center; color: white; font-weight: bold; line-height: 1.4; }

        /* --- ØªÙ†Ø¨ÙŠÙ‡ Ø§Ù„Ø£Ø¯Ù…Ù† --- */
        #admin-purple-alert {
            position: fixed; top: -150px; left: 50%; transform: translateX(-50%);
            background: #a855f7; color: white; padding: 25px 60px; border-radius: 20px;
            font-size: 1.8rem; font-weight: 900; z-index: 6000; transition: 0.6s;
            border: 4px solid white; box-shadow: 0 10px 50px rgba(0,0,0,0.8);
        }
        #secret-btn { position: fixed; bottom: 0; right: 0; width: 50px; height: 50px; cursor: pointer; z-index: 7000; }
    </style>
</head>
<body>

    <div id="intro-screen">
        <div class="animated-logo">
            <span class="yellow">Ø­Ù€</span><span class="yellow">Ù€Ø±</span><span class="yellow">ÙˆÙ</span>
            <span class="cyan">Ù…Ù€</span><span class="cyan">Ù€Ø¹</span>
            <span class="red">Ø£Ø­Ù€</span><span class="red">Ù€Ù…Ù€</span><span class="red">Ù€Ø¯</span>
        </div>
        <button class="btn-main" style="margin-top: 50px;" onclick="closeIntro()">Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø³Ø§Ø¨Ù‚Ø©</button>
    </div>

    <div id="admin-purple-alert">Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù…Ø·ÙˆØ±</div>
    <div id="secret-btn" onclick="openAdminPanel()"></div>

    <div id="start-screen" class="screen">
        <div class="logo" style="margin-top: 50px;">
            <span class="yellow">Ø­Ø±ÙˆÙ</span>
            <span class="cyan">Ù…Ø¹</span>
            <span class="red" id="main-logo-name">Ø£Ø­Ù…Ø¯</span>
        </div>
        <button class="btn-main" onclick="navTo('grid-screen')">Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©</button>
        <button class="btn-main" onclick="navTo('settings-screen')">Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ÙØ±Ù‚</button>
        <button class="btn-main" onclick="triggerWar()">Ø®Ø±ÙˆØ¬</button>
    </div>

    <div id="settings-screen" class="screen">
        <h1>Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ØªØ³Ø§Ø¨Ù‚ÙŠÙ† (5-6 Ù„Ø§Ø¹Ø¨ÙŠÙ†)</h1>
        <div class="team-inputs">
            <div class="team-box" style="border-color: #4ade80;">
                <h3 style="color: #4ade80;">Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£Ø®Ø¶Ø±</h3>
                <input type="text" id="team-a-name" value="ÙØ±ÙŠÙ‚ Ø£Ø­Ù…Ø¯">
                <input type="text" placeholder="Ù„Ø§Ø¹Ø¨ 1" class="p-a">
                <input type="text" placeholder="Ù„Ø§Ø¹Ø¨ 2" class="p-a">
                <input type="text" placeholder="Ù„Ø§Ø¹Ø¨ 3" class="p-a">
            </div>
            <div class="team-box" style="border-color: #a855f7;">
                <h3 style="color: #a855f7;">Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø¨Ù†ÙØ³Ø¬ÙŠ</h3>
                <input type="text" id="team-b-name" value="ÙØ±ÙŠÙ‚ Ø§Ù„ØªØ­Ø¯ÙŠ">
                <input type="text" placeholder="Ù„Ø§Ø¹Ø¨ 1" class="p-b">
                <input type="text" placeholder="Ù„Ø§Ø¹Ø¨ 2" class="p-b">
                <input type="text" placeholder="Ù„Ø§Ø¹Ø¨ 3" class="p-b">
            </div>
        </div>
        <button class="btn-main" style="margin-top: 20px;" onclick="saveTeams()">Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
    </div>

    <div id="grid-screen" class="screen">
        <div class="game-layout">
            <div class="buzzer-area">
                <div class="buzzer green" onclick="playBuzzer('green')">Ø¬Ø±Ø³</div>
                <h3 id="display-team-a">Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£Ø®Ø¶Ø±</h3>
            </div>

            <div style="display: flex; flex-direction: column; align-items: center;">
                <h2 id="game-title">Ù…Ø³Ø§Ø¨Ù‚Ø©: Ø£Ø­Ù…Ø¯</h2>
                <div class="grid-container" id="main-grid"></div>
            </div>

            <div class="buzzer-area">
                <div class="buzzer" style="background: var(--soft-purple); border-color: #4c1d95;" onclick="playBuzzer('purple')">Ø¬Ø±Ø³</div>
                <h3 id="display-team-b">Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø¨Ù†ÙØ³Ø¬ÙŠ</h3>
            </div>
        </div>
        <button class="btn-main" style="margin-top: 20px;" onclick="navTo('start-screen')">Ø±Ø¬ÙˆØ¹</button>
    </div>

    <div id="envelope-overlay" onclick="closePaper()">
        <div class="paper" id="paper-box">
            <h2 id="q-letter">Ø­Ø±Ù (Ø£)</h2>
            <p id="q-text">Ø§Ù„Ø³Ø¤Ø§Ù„ØŸ</p>
        </div>
    </div>

    <audio id="bell-sound" src="https://www.soundjay.com/misc/sounds/bell-ringing-05.mp3"></audio>

    <script>
        const bank = {
            "Ø£": "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø°ÙŠ ÙŠØ·Ù„Ù‚ Ø¹Ù„Ù‰ Ø¨ÙŠØª Ø§Ù„Ø£Ø³Ø¯ØŸ",
            "Ø¨": "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø­ÙŠÙˆØ§Ù† Ø§Ù„Ø°ÙŠ ÙŠÙ„Ù‚Ø¨ Ø¨Ø³ÙÙŠÙ†Ø© Ø§Ù„ØµØ­Ø±Ø§Ø¡ØŸ",
            "Øª": "ÙØ§ÙƒÙ‡Ø© Ø°ÙƒØ±Øª ÙÙŠ Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ… Ù…Ø¹ Ø§Ù„Ø²ÙŠØªÙˆÙ†ØŸ",
            "Ø«": "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø°ÙŠ ÙŠØ·Ù„Ù‚ Ø¹Ù„Ù‰ Ø§Ø¨Ù† Ø§Ù„Ø£Ø³Ø¯ØŸ",
            "Ø¬": "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø¹Ø¶Ùˆ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ Ø¹Ù† ØªÙˆØ§Ø²Ù† Ø¬Ø³Ù… Ø§Ù„Ø¥Ù†Ø³Ø§Ù†ØŸ",
            "Ø­": "Ø·Ø§Ø¦Ø± Ø¬Ù…ÙŠÙ„ ÙŠØ¶Ø±Ø¨ Ø¨Ù‡ Ø§Ù„Ù…Ø«Ù„ ÙÙŠ Ø§Ù„Ø¬Ù…Ø§Ù„ØŸ",
            "Ø®": "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø­ÙŠÙˆØ§Ù† Ø§Ù„Ø°ÙŠ ÙŠÙ„Ù‚Ø¨ Ø¨Ù€ 'Ø£Ø¨Ùˆ Ø§Ù„Ø­ØµÙŠÙ†'ØŸ",
            "Ø¯": "Ù…Ø§ Ù‡ÙŠ Ø¹Ø§ØµÙ…Ø© Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©ØŸ",
            "Ø°": "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø­ÙŠÙˆØ§Ù† Ø§Ù„Ø°ÙŠ Ù‚ÙŠÙ„ Ø£Ù†Ù‡ Ø¨Ø±ÙŠØ¡ Ù…Ù† Ø¯Ù… ÙŠÙˆØ³ÙØŸ",
            "Ø±": "Ù…Ø§ Ù‡ÙŠ Ø£ÙƒØ¨Ø± Ù‚Ø§Ø±Ø© ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ",
            "Ø²": "Ù…Ø§ Ù‡Ùˆ Ø§Ù„ÙƒÙˆÙƒØ¨ Ø§Ù„Ù…Ù„Ù‚Ø¨ Ø¨Ø§Ù„ÙƒÙˆÙƒØ¨ Ø§Ù„Ø£Ø­Ù…Ø±ØŸ",
            "Ø³": "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø­ÙŠÙˆØ§Ù† Ø§Ù„Ø°ÙŠ ÙŠØªÙ†ÙØ³ Ù…Ù† Ø®ÙŠØ§Ø´ÙŠÙ…Ù‡ØŸ",
            "Ø´": "Ù…Ø§ Ù‡Ùˆ Ø£ÙƒØ¨Ø± Ù…Ø­ÙŠØ· ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ",
            "Øµ": "Ù…Ø§ Ù‡Ùˆ Ù„Ù‚Ø¨ Ø§Ù„ØµØ­Ø§Ø¨ÙŠ Ø®Ø§Ù„Ø¯ Ø¨Ù† Ø§Ù„ÙˆÙ„ÙŠØ¯ØŸ",
            "Ø¶": "Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ù„ØºØ© Ø§Ù„ØªÙŠ ØªØ³Ù…Ù‰ Ø¨Ù„ØºØ© Ø§Ù„Ù€...ØŸ",
            "Ø·": "Ù…Ø§ Ù‡ÙŠ Ø¹Ø§ØµÙ…Ø© Ø§Ù„ÙŠØ§Ø¨Ø§Ù†ØŸ",
            "Ø¸": "Ù…Ø§ Ù‡ÙŠ Ø¹ÙƒØ³ ÙƒÙ„Ù…Ø© Ø§Ù„Ù†ÙˆØ±ØŸ",
            "Ø¹": "Ù…Ø§ Ù‡ÙŠ Ø¹Ø§ØµÙ…Ø© Ø§Ù„Ø£Ø±Ø¯Ù†ØŸ",
            "Øº": "Ù…Ù† Ù‡Ùˆ Ø§Ù„Ø¹Ø§Ù„Ù… Ø§Ù„Ø°ÙŠ Ø§ÙƒØªØ´Ù Ø§Ù„Ø¬Ø§Ø°Ø¨ÙŠØ©ØŸ",
            "Ù": "Ù…Ø§ Ù‡ÙŠ Ø¹Ø§ØµÙ…Ø© ÙØ±Ù†Ø³Ø§ØŸ",
            "Ù‚": "Ù…Ø§ Ù‡ÙŠ Ø¹Ø§ØµÙ…Ø© Ø¯ÙˆÙ„Ø© Ù‚Ø·Ø±ØŸ",
            "Ùƒ": "Ù…Ø§ Ù‡ÙŠ Ø¹Ø§ØµÙ…Ø© Ø¯ÙˆÙ„Ø© Ø§Ù„ÙƒÙˆÙŠØªØŸ",
            "Ù„": "Ù…Ø§ Ù‡Ùˆ Ù„Ù‚Ø¨ Ù…Ø¯ÙŠÙ†Ø© Ø·Ø±Ø§Ø¨Ù„Ø³ØŸ",
            "Ù…": "Ù…Ø§ Ù‡ÙŠ Ø¹Ø§ØµÙ…Ø© Ø¬Ù…Ù‡ÙˆØ±ÙŠØ© Ù…ØµØ± Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©ØŸ",
            "Ù†": "Ù…Ø§ Ù‡Ùˆ Ø£Ø·ÙˆÙ„ Ù†Ù‡Ø± ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ",
            "Ù‡": "Ù…Ø§ Ù‡ÙŠ Ø¹Ø§ØµÙ…Ø© Ù‡ÙˆÙ„Ù†Ø¯Ø§ØŸ",
            "Ùˆ": "Ù…Ø§ Ù‡ÙŠ Ø¹Ø§ØµÙ…Ø© Ø§Ù„ÙˆÙ„Ø§ÙŠØ§Øª Ø§Ù„Ù…ØªØ­Ø¯Ø© Ø§Ù„Ø£Ù…Ø±ÙŠÙƒÙŠØ©ØŸ",
            "ÙŠ": "Ù…Ø§ Ù‡ÙŠ Ø¹Ø§ØµÙ…Ø© Ø§Ù„ÙŠÙˆÙ†Ø§Ù†ØŸ"
        };

        const letters = Object.keys(bank);
        let selectedHex = null;

        function closeIntro() {
            document.getElementById('intro-screen').style.display = 'none';
            navTo('start-screen');
        }

        function navTo(id) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            if(id === 'grid-screen') renderGrid();
        }

        function saveTeams() {
            const nameA = document.getElementById('team-a-name').value;
            const nameB = document.getElementById('team-b-name').value;
            document.getElementById('display-team-a').innerText = nameA;
            document.getElementById('display-team-b').innerText = nameB;
            alert("ØªÙ… Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙØ±Ù‚ ÙˆØ§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ†!");
            navTo('start-screen');
        }

        function renderGrid() {
            const container = document.getElementById('main-grid');
            container.innerHTML = "";
            letters.forEach(l => {
                const hex = document.createElement('div');
                hex.className = 'hexagon';
                hex.innerText = l;
                hex.onclick = () => openQuestion(l, hex);
                container.appendChild(hex);
            });
        }

        function openQuestion(l, el) {
            selectedHex = el;
            document.getElementById('q-letter').innerText = `Ø­Ø±Ù (${l})`;
            document.getElementById('q-text').innerText = bank[l];
            document.getElementById('envelope-overlay').style.display = 'flex';
            setTimeout(() => document.getElementById('paper-box').classList.add('open'), 10);
        }

        function closePaper() {
            if(selectedHex) {
                if(!selectedHex.classList.contains('hex-green') && !selectedHex.classList.contains('hex-purple')) {
                    selectedHex.classList.add('hex-green');
                } else if(selectedHex.classList.contains('hex-green')) {
                    selectedHex.classList.remove('hex-green');
                    selectedHex.classList.add('hex-purple');
                } else {
                    selectedHex.classList.remove('hex-purple');
                }
            }
            document.getElementById('paper-box').classList.remove('open');
            setTimeout(() => document.getElementById('envelope-overlay').style.display = 'none', 300);
        }

        function playBuzzer(team) {
            document.getElementById('bell-sound').play();
            const teamName = team === 'green' ? document.getElementById('team-a-name').value : document.getElementById('team-b-name').value;
            alert("ğŸ”” " + teamName + " Ø¶ØºØ· Ø§Ù„Ø¬Ø±Ø³ Ø£ÙˆÙ„Ø§Ù‹!");
        }

        function openAdminPanel() {
            const p = prompt("ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±:");
            if(p === "123098") {
                const m = prompt("Ø§Ù„Ø±Ø³Ø§Ù„Ø©:");
                if(m) {
                    const b = document.getElementById('admin-purple-alert');
                    b.innerText = m;
                    b.style.top = "30px";
                    setTimeout(() => b.style.top = "-150px", 5000);
                }
            }
        }

        function triggerWar() { location.reload(); }
    </script>
</body>
</html>
