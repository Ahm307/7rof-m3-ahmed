<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>حروف مع أحمد - النسخة الاحترافية</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-purple: #6a349c;
            --accent-yellow: #ffcc00;
            --team-left-color: #a855f7;
            --team-right-color: #4ade80;
            --accent-red: #ff4d4d;
        }

        body {
            font-family: 'Cairo', sans-serif;
            background-color: var(--primary-purple);
            background-image: radial-gradient(circle, rgba(255,255,255,0.05) 1px, transparent 1px);
            background-size: 30px 30px;
            color: white; margin: 0; overflow: hidden; height: 100vh;
        }

        .screen { display: none; flex-direction: column; align-items: center; justify-content: center; width: 100%; height: 100vh; text-align: center; }
        .active { display: flex; }

        /* لوحة النقاط */
        .score-board {
            background: rgba(0,0,0,0.4);
            padding: 10px 20px;
            border-radius: 15px;
            font-size: 1.5rem;
            margin-bottom: 10px;
            border: 2px solid var(--accent-yellow);
        }

        .main-title { font-size: 5rem; font-weight: 900; margin-bottom: 40px; display: flex; gap: 15px; }
        .main-title span { display: inline-block; animation: welcomeBounce 0.8s infinite alternate ease-in-out; }
        @keyframes welcomeBounce { from { transform: translateY(0); } to { transform: translateY(-20px); } }

        .grid-container { display: grid; grid-template-columns: repeat(7, 1fr); gap: 10px; max-width: 60%; width: 100%; justify-items: center; }
        .hexagon { 
            aspect-ratio: 1/1.1; width: 100%; max-width: 70px; 
            background: white; color: var(--primary-purple); 
            clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%); 
            display: flex; align-items: center; justify-content: center; 
            font-size: 1.5rem; font-weight: 900; transition: 0.3s;
        }
        .selectable { cursor: pointer !important; outline: 4px solid var(--accent-yellow); animation: pulse 1s infinite; }
        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.7; } 100% { opacity: 1; } }

        /* نافذة السؤال */
        #q-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.95); display: none; justify-content: center; align-items: center; z-index: 5000; }
        .paper { width: 90%; max-width: 600px; background: #8b5cf6; border: 6px solid white; border-radius: 25px; padding: 30px; position: relative; }
        
        .answer-input-area { margin-top: 20px; display: flex; flex-direction: column; gap: 10px; }
        .answer-input-area input { 
            padding: 15px; border-radius: 10px; border: none; font-size: 1.2rem; 
            text-align: center; font-family: 'Cairo'; 
        }

        .btn-action { background: var(--accent-yellow); color: black; border: none; padding: 12px 30px; border-radius: 30px; font-weight: bold; cursor: pointer; font-size: 1.1rem; }
        .btn-close { background: white; color: var(--primary-purple); margin-top: 10px; }
    </style>
</head>
<body>

    <div id="start-screen" class="screen active">
        <div class="main-title"><span>حروف</span><span>مع</span><span id="logo-name">أحمد</span></div>
        <button class="btn-action" onclick="navTo('grid-screen')" style="padding: 20px 50px; font-size: 1.5rem;">بداية اللعبة</button>
    </div>

    <div id="grid-screen" class="screen">
        <div style="display: flex; gap: 50px;">
            <div class="score-board">نقاط <span id="team-l-name">الأساطير</span>: <span id="score-l">0</span></div>
            <div class="score-board">نقاط <span id="team-r-name">النمور</span>: <span id="score-r">0</span></div>
        </div>

        <div style="display:flex; width:100%; justify-content:space-around; align-items:center; margin-top: 20px;">
            <div class="side-bar">
                <button class="btn-action" style="background:var(--team-left-color); color:white" onclick="hitBuzzer('left')">جرس الأساطير</button>
            </div>
            <div class="grid-container" id="main-grid"></div>
            <div class="side-bar">
                <button class="btn-action" style="background:var(--team-right-color); color:white" onclick="hitBuzzer('right')">جرس النمور</button>
            </div>
        </div>
    </div>

    <div id="q-overlay">
        <div class="paper">
            <div id="timer" style="font-size:3rem; font-weight: 900; color: var(--accent-yellow);">30</div>
            <h2 id="q-letter" style="margin: 10px 0;"></h2>
            <p id="q-text" style="font-size: 1.4rem; min-height: 80px;"></p>
            
            <div class="answer-input-area">
                <input type="text" id="user-answer" placeholder="اكتب إجابتك هنا..." autocomplete="off">
                <button class="btn-action" onclick="checkAnswer()">تحقق من الإجابة</button>
            </div>

            <div id="ans-box" style="display:none; color:white; background: rgba(0,0,0,0.3); padding: 10px; margin-top: 15px; border-radius: 10px;">
                الإجابة الصحيحة هي: <span id="correct-ans" style="color: var(--accent-yellow);"></span>
            </div>
            
            <button class="btn-action btn-close" onclick="closeQuestion()">إغلاق النافذة</button>
        </div>
    </div>

    <script>
        const bank = {
            "أ": ["من هو الصحابي الذي لُقب بـ 'أمين هذه الأمة'؟", "أبو عبيدة"],
            "ب": ["ما هو البيت الذي لا أبواب له ولا نوافذ؟", "بيضة"],
            "ت": ["ما هي السورة التي تُسمى 'سورة الفرائض'؟", "النساء"],
            "ث": ["ثالث الحرمين الشريفين، ما هو؟", "المسجد الأقصى"],
            "ج": ["ما هو الشيء الذي يحيا في أول الشهر ويموت في آخره؟", "الهلال"],
            "ح": ["من هو النبي الملقب بـ 'ذو النون'؟", "يونس"],
            "خ": ["من هو الصحابي الملقب بـ 'سيف الله المسلول'؟", "خالد بن الوليد"],
            "د": ["ما هي السورة التي تسمى 'عروس القرآن'؟", "الرحمن"],
            "ذ": ["ما هو الشيء الذي يذبح نفسه ليبكي عليه الناس؟", "الشمعة"],
            "ر": ["ما هو الركن الرابع من أركان الإسلام؟", "الصوم"],
            "ز": ["ما هو الشيء الذي يزيد إذا نقصت منه؟", "الحفرة"],
            "س": ["من هي الصحابية الملقبة بـ 'ذات النطاقين'؟", "أسماء"],
            "ش": ["ما هو الشيء الذي يحرق نفسه ليفيد غيره؟", "الشمعة"],
            "ص": ["ما هي الصلاة التي لا ركوع فيها ولا سجود؟", "الجنازة"],
            "ض": ["ما هو الشيء الذي يوجد في وسط باريس؟", "حرف الضاد"],
            "ط": ["من هو أول من خط بالقلم؟", "إدريس"],
            "ظ": ["ما هو الشيء الذي يتبعك نهاراً ويختفي ليلاً؟", "الظل"],
            "ع": ["من هو الخليفة الذي لقب بـ 'الفاروق'؟", "عمر بن الخطاب"],
            "غ": ["ما هو الغاز الذي يمتصه النبات لصنع الغذاء؟", "ثاني أكسيد الكربون"],
            "ف": ["ما هي السورة التي تُسمى 'أم الكتاب'؟", "الفاتحة"],
            "ق": ["ما هو الكتاب السماوي الذي أُنزل على موسى عليه السلام؟", "التوراة"],
            "ك": ["كم عدد السجدات في القرآن الكريم؟", "15"],
            "ل": ["ما هو الشيء الذي يكتب ولا يقرأ؟", "القلم"],
            "م": ["ما هي أطول سورة في القرآن الكريم؟", "البقرة"],
            "ن": ["ما هو الشيء الذي ينبض بلا قلب؟", "الساعة"],
            "ه": ["من هو الصحابي الملقب بـ 'أسد الله'؟", "حمزة"],
            "و": ["ما هو الشيء الذي يقرصك ولا تراه؟", "البرد"],
            "ي": ["ما هو أطول نهر في العالم؟", "النيل"]
        };

        let scores = { left: 0, right: 0 };
        let currentTeam = null;
        let canSelect = false;
        let timerInterval;
        let currentLetter = "";
        let currentHex = null;

        function navTo(id) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            if(id === 'grid-screen') renderGrid();
        }

        function renderGrid() {
            const container = document.getElementById('main-grid');
            container.innerHTML = "";
            "أبتثجحخدذرزسشصضطظعغفقكلمنهوي".split("").forEach(l => {
                const hex = document.createElement('div');
                hex.className = 'hexagon';
                hex.innerText = l;
                hex.id = "hex-" + l;
                hex.onclick = () => { if(canSelect) openQuestion(l, hex); };
                container.appendChild(hex);
            });
        }

        function hitBuzzer(side) {
            currentTeam = side;
            canSelect = true;
            document.querySelectorAll('.hexagon').forEach(h => { if(!h.style.background) h.classList.add('selectable'); });
        }

        function openQuestion(l, el) {
            currentLetter = l;
            currentHex = el;
            canSelect = false;
            document.querySelectorAll('.hexagon').forEach(h => h.classList.remove('selectable'));
            
            const qData = bank[l];
            document.getElementById('q-letter').innerText = "سؤال حرف: " + l;
            document.getElementById('q-text').innerText = qData[0];
            document.getElementById('correct-ans').innerText = qData[1];
            document.getElementById('user-answer').value = "";
            document.getElementById('ans-box').style.display = 'none';
            document.getElementById('q-overlay').style.display = 'flex';
            
            startTimer();
        }

        function startTimer() {
            let time = 30;
            document.getElementById('timer').innerText = time;
            clearInterval(timerInterval);
            timerInterval = setInterval(() => {
                time--;
                document.getElementById('timer').innerText = time;
                if(time <= 0) {
                    clearInterval(timerInterval);
                    alert("انتهى الوقت! الفريق خسر المحاولة.");
                    document.getElementById('ans-box').style.display = 'block';
                }
            }, 1000);
        }

        function checkAnswer() {
            const userAns = document.getElementById('user-answer').value.trim();
            const correctAns = bank[currentLetter][1];

            if (userAns === "") {
                alert("يرجى كتابة الإجابة أولاً!");
                return;
            }

            // مقارنة بسيطة (يمكن تحسينها لتجاهل ال التعريف)
            if (userAns.includes(correctAns) || correctAns.includes(userAns)) {
                alert("إجابة صحيحة! أحسنت.");
                clearInterval(timerInterval);
                
                // إضافة النقاط
                scores[currentTeam] += 10;
                updateScores();
                
                // تلوين الحرف
                currentHex.style.background = currentTeam === 'left' ? 'var(--team-left-color)' : 'var(--team-right-color)';
                currentHex.style.color = "white";
                
                closeQuestion();
            } else {
                alert("إجابة خاطئة! حاول مرة أخرى أو انتظر انتهاء الوقت.");
            }
        }

        function updateScores() {
            document.getElementById('score-l').innerText = scores.left;
            document.getElementById('score-r').innerText = scores.right;
        }

        function closeQuestion() {
            clearInterval(timerInterval);
            document.getElementById('q-overlay').style.display = 'none';
        }
    </script>
</body>
</html>
 
